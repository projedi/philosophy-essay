\subsubsection{Механизм <<smartcase>>}


\subsubsection{Сопоставление с образцом без упорядочивания уравнений}

Механизмы в \ref{pattern-matching} и \ref{dependent-pattern-matching} используют
упорядоченный набор уравнений: алгоритм идет сверху вниз по уравнениям, пока не
найдет первый подходящий набор образцов. Преимущества такого способа в том,
что он позволяет в некоторых случаях уменьшить количество требуемых уравнений
\cite{overlapping-and-order-independent-patterns} и в том, что написанные таким
образом функции подлежат трансляции в элиминаторы как описано в
\cite{eliminating-dependent-pattern-matching}.

С другой стороны, при таком определении отсутствует интересное свойство:
уравнения нельзя считать равенствами по определению. Уравнение для набора
образцов является равенством в системе только если все предыдущие наборы
образцов не подошли. Например, определение сложения натуральных чисел:
\begin{align*}
&add : Nat \to Nat \to Nat\\
&add\ 0\ n = n\\
&add\ (succ\ n)\ m = succ\ (add\ n\ m)\\
&add\ n\ 0 = n\\
&add\ n\ (succ\ m) = succ\ (add\ n\ m)
\end{align*}
Из этого определения не следует, что \(add\ n\ 0 =_{def} n\). Этот факт придется
доказывать отдельно и система не сможет использовать его автоматически.

В \cite{overlapping-and-order-independent-patterns} предлагается использовать
подход, когда каждое уравнение порождает равенство по определению.
